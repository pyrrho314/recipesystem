

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.2. Creating A Configuration Package &mdash; astrodata documentation v1.0beta documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="astrodata documentation v1.0beta documentation" href="index.html" />
    <link rel="up" title="4. AstroData Configuration Package Development Guide" href="developmentGuide.html" />
    <link rel="next" title="4.3. Creating An AstroDataType" href="creatingAnAstroDataType.html" />
    <link rel="prev" title="4.1. Elements" href="configElements.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="creatingAnAstroDataType.html" title="4.3. Creating An AstroDataType"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="configElements.html" title="4.1. Elements"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">astrodata documentation v1.0beta documentation</a> &raquo;</li>
          <li><a href="developmentGuide.html" accesskey="U">4. AstroData Configuration Package Development Guide</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">4.2. Creating A Configuration Package</a><ul>
<li><a class="reference internal" href="#preparation">4.2.1. Preparation</a></li>
<li><a class="reference internal" href="#clone-the-sample-package">4.2.2. Clone the Sample Package</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="configElements.html"
                        title="previous chapter">4.1. Elements</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="creatingAnAstroDataType.html"
                        title="next chapter">4.3. Creating An AstroDataType</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/startingTheConfig.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="creating-a-configuration-package">
<h1>4.2. Creating A Configuration Package<a class="headerlink" href="#creating-a-configuration-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="preparation">
<h2>4.2.1. Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline">¶</a></h2>
<p>For this work it is required that the Gemini Python AstroData package already
be installed and
functional. In general the Gemini AstroData configuration package(s) will
already
be installed somewhere on the PYTHONPATH, and Gemini Python scripts such
as <tt class="docutils literal"><span class="pre">reduce</span></tt> and
<tt class="docutils literal"><span class="pre">typewalk</span></tt> will be on the system path.  Installations from SVN will
require that the <tt class="docutils literal"><span class="pre">astrodata/scripts</span></tt> package directory be added to the PATH.</p>
</div>
<div class="section" id="clone-the-sample-package">
<h2>4.2.2. Clone the Sample Package<a class="headerlink" href="#clone-the-sample-package" title="Permalink to this headline">¶</a></h2>
<p>The easiest, and recommended way to start a new configuration package is by copying the
<tt class="docutils literal"><span class="pre">astrodata_Sample</span></tt> package. The sample configuration package is located in
<tt class="docutils literal"><span class="pre">astrodata/sample/astrodata_Sample</span></tt>. Copy this directory to a development workspace
as in the following example, where <tt class="docutils literal"><span class="pre">&lt;ad_install_dir&gt;</span></tt> should be the directory in
which the <tt class="docutils literal"><span class="pre">astrodata</span></tt> package is installed:</p>
<div class="highlight-python"><pre>cd /home/username
mkdir workspace
cd workspace

cp -r &lt;ad_install_dir&gt;/astrodata/samples/astrodata_Sample .</pre>
</div>
<p>Note that <tt class="docutils literal"><span class="pre">&lt;ad_install_dir&gt;</span></tt> should already be on the <tt class="docutils literal"><span class="pre">PYTHONPATH</span></tt>.</p>
<p>The name of the destination can, of course, be other than <tt class="docutils literal"><span class="pre">astrodata_Sample</span></tt>,
and it can be changed later as well. For a real package it must be changed, and
though not strictly necessary, the <tt class="docutils literal"><span class="pre">ADCONFIG_Sample</span></tt> and <tt class="docutils literal"><span class="pre">RECIPES_Sample</span></tt> should
have &#8220;Sample&#8221; changed to something unique which matches the parent
<tt class="docutils literal"><span class="pre">astrodata_&lt;whatever&gt;</span></tt> directory. So long as the <tt class="docutils literal"><span class="pre">ADCONFIG_</span></tt> and <tt class="docutils literal"><span class="pre">RECIPIES_</span></tt>
portion of the name is present no other aspect of the configuration will have to
change. However, every configuration package wherever on the
path must have a unique name.</p>
<p>You must also ensure that the new directory <em>containing</em>
<tt class="docutils literal"><span class="pre">astrodata_Sample</span></tt> is in either ADCONFIGPATH or RECIPEPATH, or alternately
for convenience (i.e. when installing packages via setup.py) in the PYTHONPATH.
If you are following the above steps, you are in the directory to which
<tt class="docutils literal"><span class="pre">astrodata_Sample</span></tt> was copied. Add this directory to the RECIPEPATH so your copy
of <tt class="docutils literal"><span class="pre">astrodata_Sample</span></tt> can be found:</p>
<div class="highlight-python"><pre>export RECIPEPATH=$(pwd):$RECIPEPATH</pre>
</div>
<p>You can now test that <tt class="docutils literal"><span class="pre">astrodata_Sample</span></tt> is being
discovered by the astrodata package
by running a tool from the <tt class="docutils literal"><span class="pre">astrodata/scripts</span></tt> directory which should
have been installed to system bin directories by the <tt class="docutils literal"><span class="pre">setup.py</span></tt> process.</p>
<p>Assuming that you are working in the test data directory, with a subdirectory
named <tt class="docutils literal"><span class="pre">source_data</span></tt> into which you have copied at least one fits file.
For these examples, we assume for convienience your file is named <tt class="docutils literal"><span class="pre">test.fits</span></tt>:</p>
<div class="highlight-python"><pre>cd ~
mkdir test_data
cd test_data
mkdir source_data
cp &lt;somepath&gt;/test.fits source_data</pre>
</div>
<p>We&#8217;ll assume you are working in this directory for the rest of the example.
To see if the types from <tt class="docutils literal"><span class="pre">astrodata_Sample</span></tt> are discovered, type:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">typewalk</span> <span class="o">-</span><span class="n">c</span>
</pre></div>
</div>
<p>This will generate output like the following:</p>
<div class="highlight-python"><pre>directory: . (/home/dpd/test_data)
 test.fits ......................... (CAL) (GEMINI) (GEMINI_NORTH) (GMOS)
 ................................... (GMOS_CAL) (GMOS_IMAGE)
 ................................... (GMOS_IMAGE_FLAT) (GMOS_N) (GMOS_RAW)
 ................................... (IMAGE) (MARKED) (OBSERVED) (RAW)
 ................................... (UNPREPARED)</pre>
</div>
<p>A line should show up for <tt class="docutils literal"><span class="pre">test.fits</span></tt> and any other fits files in the current
directory <strong>and</strong> any subdirectory listing the AstroData types which apply to the
dataset. The list will contain some Gemini types, such as RAW and
UNPREPARED, and if the data in question is Gemini data, types associated with
the instrument-mode and processing status.</p>
<p>However, it should also include two types from the sample configuration,
<tt class="docutils literal"><span class="pre">UNMARKED</span></tt> (or possibly <tt class="docutils literal"><span class="pre">MARKED</span></tt> if the
dataset has been manipulated by the Sample package previously), and <tt class="docutils literal"><span class="pre">OBSERVED</span></tt>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="creatingAnAstroDataType.html" title="4.3. Creating An AstroDataType"
             >next</a> |</li>
        <li class="right" >
          <a href="configElements.html" title="4.1. Elements"
             >previous</a> |</li>
        <li><a href="index.html">astrodata documentation v1.0beta documentation</a> &raquo;</li>
          <li><a href="developmentGuide.html" >4. AstroData Configuration Package Development Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Craig Allen.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>